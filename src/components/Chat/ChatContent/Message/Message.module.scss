.message {
  position: relative;
  display: flex;
  align-items: end;
  margin-bottom: 5%;
  height: auto;
	width: 100%;
	

  h5 {
    font-size:calc(var(--index) * 0.7);
    color: green;
    margin-bottom: 5px;
		margin-right: 35%;
		max-width: 25ch;
		min-height: 3ch;
		white-space: nowrap;
		text-overflow: ellipsis;
		overflow: hidden;
		text-align: left;
  }

  .avatar {
    margin: 0 1%;
    width: calc(var(--index) * 2.6);
    height: calc(var(--index) * 2.6);
    border-radius: 50%;
    overflow: hidden;
		position: relative;

    img {
			position: absolute;
			top: 0;
			left: 0;
      width: 100%;
      height: 100%;
    }
  }

  .message_content {
    max-width: calc(100% - var(--index) * 3.5);
    min-width: calc(var(--index) * 10);
		min-height: auto;
    background-color: var(--massage-bg-color);
    padding: calc(var(--index) * 0.3);
    border-radius: 8px;
    position: relative;
		color: var(--font-color);
		text-align: justify;
    z-index: 1;
		
    &::after {
      content: '';
      position: absolute;
      border: 5px solid transparent;
      border-top: 7px solid var(--massage-bg-color);
      bottom: -5px;
    }

    p {
      width: 100%;	
      height: auto;
			font-size: calc((9vw + 4em)/10);
      word-wrap: break-word; 
			font-size: calc(var(--index) * 0.9);
			margin-top: 10px;
    }
  }

  time {
    position: absolute;
    top: calc(var(--index) * 0.35);
    right: calc(var(--index) * 0.5);
    font-size: calc(var(--index) * 0.7);
    opacity: .7;
    z-index: 2;
  }
}

.message_visitor {
  .avatar {
    box-shadow: 0 0 5px 2px #fff;
  }

  .message_content {
    &::after {
      content: '';
      left: -5px;
      transform: rotate(55deg);
    }
  }
	.tools {
		right: 0;
	}
}

.tools {
	position: absolute;
	top: 0;
	z-index: 20;
}

.message_owner {
  .message_content {
			margin-left: auto;
			p{
				margin-top: 10px;
			}
    &::after {
      content: '';
      right: -5px;
      transform: rotate(-55deg);
			
    }
  }
	.tools {
		left: 0;
	}
}


@media screen and (max-width: 500px) {
  p {
    font-size: calc(var(--index) * 1.3) !important;
  }
	.message_content {
    max-width: calc(100% - var(--index) * 10) !important;
    min-width: calc(var(--index) * 10) !important;
		padding: calc(var(--index) * .5) !important;
	}
}

.highlighted_message::after {
	content: '';
	position: absolute;
	top: 0; 
	left: 0;
	width: 100%;
	height: 100%;
	background-color: rgb(137, 137, 137);
	opacity: .3;
	z-index: 10;
}

.title-admin {
	background: linear-gradient(45deg, #4000FF, #F1B05B ,#0040FF, indigo, #00BFFF, #00FFFF, #00FF80, #00FF40, #FF00FF);
	background-size: 400%;
	background-clip: text;
	-webkit-background-clip: text;
	color: transparent !important;
	animation: rainbow-animation 7s linear infinite;
	font-weight: 700;
	text-shadow: 0 0 5px rgba(255, 255, 255, 0.2); /* Эффектная тень */

 }
 
 @keyframes rainbow-animation {
	 0%, 100% {
		 background-position: 0% 50%;
	 }
	 50% {
		 background-position: 200% 50%;
	 }
 }
 
